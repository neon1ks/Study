# Использование QTimer

В примере каждую секунду меняется цвет фона.

## QTimer

Тамеры просто использовать. Однако, код, вызываемый по таймеру, выполняется в главном потоке, что может привести к «подвисаниям» графического интерфейса пользователя.

Таймер запускается с помощью `QTimer::start()`. Остановить таймер можно вызовом `QTimer::stop()`.

## Изменение фона

Для изменения цвета фона виджета используется объект палитры `QPalette`. Сам цвет `QColor` формируется из трех компонент `r`, `g`, `b`, выбранных случайным образом.

> Изменение фона с помощью `setPalette()` не работает в Qt 5.12.8 в Ubuntu 20.04. В версиях Qt 5.15.2 и Qt 6.2.1 всё отлично.

В Qt 5.12.8 фон можно задать с помощью:

```cpp
    setAttribute(Qt::WA_StyledBackground, true);
    setStyleSheet("background-color: red;");
```
